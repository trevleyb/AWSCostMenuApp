<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AWSCostMenuApp.ViewModels"
        xmlns:viewModels="clr-namespace:AWSCostMenuApp.ViewModels"
        xmlns:viewModels1="clr-namespace:AWSCostMenuApp.ViewModels"
        x:Class="AWSCostMenuApp.Views.DashboardWindow"
        Title="AWS Cost Monitor - Dashboard"
        Width="800" Height="600"
        WindowStartupLocation="CenterScreen">
    
    <Design.DataContext>
        <viewModels1:DashboardViewModel />
    </Design.DataContext>
    
    <ScrollViewer>
        <StackPanel Margin="20">
            <!-- Header -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                <TextBlock Text="AWS Cost Monitor" Classes="header" FontSize="24" VerticalAlignment="Center" />
                <TextBlock Text="{Binding CreditsStatus}" Margin="20,0,0,0" VerticalAlignment="Center"
                           Foreground="{Binding CreditsStatusColor}" />
            </StackPanel>
            
            <TextBlock Text="{Binding LastUpdated}" Classes="subheader" />
            
            <!-- Month Comparisons -->
            <Border Classes="card">
                <StackPanel>
                    <TextBlock Text="Month Comparisons" Classes="header" />
                    
                    <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" RowDefinitions="30,30,30">
                        <!-- Headers -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Comparison" FontWeight="SemiBold" HorizontalAlignment="Left" Margin="-5,0"  Padding="5" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="Current" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="20,0"  Padding="5" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="Previous" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="20,0" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="0" Grid.Column="3" Text="Difference" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="20,0" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="0" Grid.Column="4" Text="% Change" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="20,0" VerticalAlignment="Center"/>
                        
                        <!-- MTD Row -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding MtdComparison.Label}" Margin="0,8" />
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding MtdComparison.CurrentFormatted}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="{Binding MtdComparison.PreviousFormatted}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="1" Grid.Column="3" Text="{Binding MtdComparison.DifferenceFormatted}" Foreground="{Binding MtdComparison.DifferenceColor}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="1" Grid.Column="4" Text="{Binding MtdComparison.PercentFormatted}" Foreground="{Binding MtdComparison.DifferenceColor}" HorizontalAlignment="Right" Margin="20,8" />
                        
                        <!-- Full Month Row -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding FullMonthComparison.Label}" Margin="0,8" />
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding FullMonthComparison.CurrentFormatted}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="2" Grid.Column="2" Text="{Binding FullMonthComparison.PreviousFormatted}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="2" Grid.Column="3" Text="{Binding FullMonthComparison.DifferenceFormatted}" 
                                   Foreground="{Binding FullMonthComparison.DifferenceColor}" HorizontalAlignment="Right" Margin="20,8" />
                        <TextBlock Grid.Row="2" Grid.Column="4" Text="{Binding FullMonthComparison.PercentFormatted}" 
                                   Foreground="{Binding FullMonthComparison.DifferenceColor}" HorizontalAlignment="Right" Margin="20,8" />
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- Quick Stats -->
            <Border Classes="card">
                <Grid ColumnDefinitions="*,*,*">
                    <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                        <TextBlock Text="MTD Spend" Classes="subheader" HorizontalAlignment="Center" />
                        <TextBlock Text="{Binding MtdTotal}" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center" />
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                        <TextBlock Text="vs Last Month" Classes="subheader" HorizontalAlignment="Center" />
                        <TextBlock Text="{Binding MtdVsLastMonth}" FontSize="28" FontWeight="Bold" 
                                   Foreground="{Binding MtdVsLastMonthColor}" HorizontalAlignment="Center" />
                    </StackPanel>
                    
                    <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                        <TextBlock Text="Top Account" Classes="subheader" HorizontalAlignment="Center" />
                        <TextBlock Text="{Binding TopAccountName}" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" />
                        <TextBlock Text="{Binding TopAccountCost}" FontSize="20" HorizontalAlignment="Center" />
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Actions -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
                <Button Content="Refresh Data" Command="{Binding RefreshCommand}" Margin="5,0" Padding="15,8" />
                <Button Content="Toggle Credits" Command="{Binding ToggleCreditsCommand}" Margin="5,0" Padding="15,8" />
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>
